<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>TongLink</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div id="splash-screen" class="splash-screen">
    <div class="splash-content">
        <img src="/images/tonglink-splash-white.png" alt="ì„œë¹„ìŠ¤ ë¡œê³ " class="splash-logo">
    </div>
</div>
<div class="app-container">


<!--    <div th:replace="fragments/header :: header"></div>-->
<!--    <div class="header&#45;&#45;logo">-->
<!--        <img src="/images/tonglink-textlogo-white.png" alt="ì„œë¹„ìŠ¤ëª… ë¡œê³ " class="header&#45;&#45;logo-img">-->
<!--    </div>-->
    <!-- Main Content -->
<!--    <main id="cnt">-->
<!--        <div class="content">-->
<!--            <section class="card-list">-->
<!--                &lt;!&ndash; Card 1 &ndash;&gt;-->
<!--                <div class="card">-->
<!--                    <div class="card-thumbnail"></div>-->
<!--                    <div class="card-body">-->
<!--                        <h3 class="card-title">ì œëª©</h3>-->
<!--                        <p class="card-subtitle">ì„œë¸Œ ì œëª©</p>-->
<!--                        <p class="card-price">í¬ì¸íŠ¸ ì£¼ê¸°</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </section>-->
<!--        </div>-->
<!--    </main>-->

    <main class="main-content">
        <section class="profile-section">
            <div class="header-logo">
                <img src="/images/tonglink-logo-white.png" alt="ì„œë¹„ìŠ¤ëª… ë¡œê³ " class="header&#45;&#45;logo-img">
                <img src="/images/tonglink-textlogo-white.png" alt="ì„œë¹„ìŠ¤ëª… ë¡œê³ " class="header&#45;&#45;logo-img">
            </div>
            <p class="profile-subtitle">ì „ì²´ ì¡°íšŒìˆ˜ : <strong>123</strong></p>
            <p class="profile-description">ì¡°íšŒ í†µê³„ë¥¼ ë‚´ê³  ì‹¶ì€ ë§í¬ë¥¼ ì…ë ¥í•˜ë©´, ì˜¤ëŠ˜ë¶€í„° ë°”ë¡œ í†µê³„ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”! ğŸ˜</p>
        </section>
        <section class="stats-section">
            <div class="stats-card">
                <canvas id="stats-chart" width="400" height="200"></canvas>
            </div>
        </section>
        <div class="gray-bar-wrapper">
            <div class="gray-bar"></div>
        </div>
        <section class="popular-section" style="margin-top: 30px;">
            <h2>ì¸ê¸°ê¸€</h2>
            <ul class="popular-list">
                <li class="popular-item">
                    <img src="/images/kubernetes-icon.png" alt="ì¿ ë²„ë„¤í‹°ìŠ¤" class="popular-thumbnail">
                    <div class="popular-content">
                        <h3 class="popular-title">ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì¶•í•˜ê¸° Ubuntu 22.04</h3>
                        <p class="popular-stats">ì¡°íšŒ 8</p>
                    </div>
                </li>
                <li class="popular-item">
                    <img src="/images/mqtt-icon.png" alt="mqtt" class="popular-thumbnail">
                    <div class="popular-content">
                        <h3 class="popular-title">[Ubuntu] Linux ì—ì„œ mqttì„¤ì¹˜</h3>
                        <p class="popular-stats">ì¡°íšŒ 12</p>
                    </div>
                </li>
            </ul>
        </section>
    </main>


    <div th:replace="fragments/footer :: footer"></div>
</div>
</body>
<script>

    document.addEventListener('DOMContentLoaded', () => {
        const splashScreen = document.getElementById('splash-screen');

        // ì²« ë°©ë¬¸ ì—¬ë¶€ í™•ì¸ (localStorageì— ë°©ë¬¸ ì—¬ë¶€ ì €ì¥)
        const hasVisited = localStorage.getItem('hasVisited');

        if (!hasVisited) {
            // ì²« ë°©ë¬¸ì¸ ê²½ìš°, ìŠ¤í”Œë˜ì‹œ í™”ë©´ ë³´ì—¬ì£¼ê¸°
            setTimeout(() => {
                splashScreen.classList.add('hidden'); // ìŠ¤í”Œë˜ì‹œ ìˆ¨ê¸°ê¸°
            }, 2000); // 2ì´ˆ í›„ ìŠ¤í”Œë˜ì‹œ ì‚¬ë¼ì§
            localStorage.setItem('hasVisited', 'true'); // ë°©ë¬¸ ì—¬ë¶€ ì €ì¥
        } else {
            // ì´ë¯¸ ë°©ë¬¸í•œ ê²½ìš°, ìŠ¤í”Œë˜ì‹œ ì¦‰ì‹œ ìˆ¨ê¹€
            splashScreen.classList.add('hidden');
        }
    });

    const ctx = document.getElementById('stats-chart').getContext('2d');

    const statsChart = new Chart(ctx, {
        type: 'bar', // ë§‰ëŒ€ ê·¸ë˜í”„ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •
        data: {
            labels: ['12/01', '12/02', '12/03', '12/04', '12/05'], // xì¶• ë ˆì´ë¸”
            datasets: [
                {
                    type: 'line', // ì„  ê·¸ë˜í”„
                    label: 'ì¡°íšŒìˆ˜',
                    data: [123, 98, 76, 150, 130], // ì¡°íšŒìˆ˜ ë°ì´í„°
                    borderColor: 'rgba(255, 99, 132, 1)', // ì„  ìƒ‰ìƒ
                    backgroundColor: 'rgba(255, 99, 132, 0.2)', // ì±„ìš°ê¸° ìƒ‰ìƒ
                    tension: 0.3, // ì„  ê³¡ë¥ 
                    fill: true, // ì„  ì•„ë˜ ì±„ìš°ê¸°
                },
                {
                    type: 'bar', // ë§‰ëŒ€ ê·¸ë˜í”„
                    label: 'ë°©ë¬¸ì',
                    data: [90, 70, 60, 120, 100], // ë°©ë¬¸ì ë°ì´í„°
                    backgroundColor: 'rgba(54, 162, 235, 0.7)', // ë§‰ëŒ€ ìƒ‰ìƒ
                    borderRadius: 8, // ë§‰ëŒ€ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ
                },
            ],
        },
        options: {
            responsive: true, // ë°˜ì‘í˜• ì§€ì›
            plugins: {
                legend: {
                    position: 'top', // ë²”ë¡€ ìœ„ì¹˜
                    labels: {
                        font: {
                            size: 14, // ê¸€ì”¨ í¬ê¸°
                        },
                    },
                },
                tooltip: {
                    enabled: true, // íˆ´íŒ í™œì„±í™”
                    callbacks: {
                        label: function (context) {
                            return `${context.dataset.label}: ${context.raw}íšŒ`;
                        },
                    },
                },
            },
            scales: {
                x: {
                    grid: {
                        display: false, // xì¶• ê·¸ë¦¬ë“œ ìˆ¨ê¹€
                    },
                },
                y: {
                    beginAtZero: true, // yì¶• 0ë¶€í„° ì‹œì‘
                    grid: {
                        color: '#e0e0e0', // yì¶• ê·¸ë¦¬ë“œ ìƒ‰ìƒ
                    },
                    ticks: {
                        stepSize: 50, // yì¶• ëˆˆê¸ˆ ê°„ê²©
                    },
                },
            },
        },
    });
</script>
</html>